{% extends "base_nav.html" %}
{% load staticfiles %}

{% block title %}
編輯{{ book.bookname }}-part{{part.part}}
{% endblock %}
{% block style %}
<script language="javascript" src="{% static 'ebookSystem/js/edit.js' %}"></script>
<link href="{% static "ebookSystem/css/custom.css" %}" rel="stylesheet" > 
{% endblock %}

{% block header %}
{{ book.bookname }}-part{{part.part}}
{% endblock %}
{% block content %}
<div class="row">

		{% if message %}
			<div class="alert alert-danger" role="alert">
				{{ message }}
			</div>
		{% endif %}

		<form action="" method="post">
			{% csrf_token %}

			<button class="btn btn-lg btn-default" type="submit" id="save_id" name="save">save</button>
			<button class="btn btn-lg btn-default" type="submit" id="finish_id" name="finish">finish</button>
			<button class="btn btn-lg btn-default" type="submit" id="close_id" name="close">close</button>
			<button class="btn btn-lg btn-default" type="button" id="chagePost" >chage</button>  
			<hr>

			<div id="imagePage" class="col-md-6">
				<input type="button" id="prePage" name="prePage" value="上一頁" onclick="changePage(-1)">
				<select name="scanPageList" id="scanPageList" onchange="changePageSelect()">
					{% for scanPage in scanPageList %}
						{% ifequal scanPage defaultPage %}
							<option value="{{ scanPage }}" selected>{{ scanPage }}-上次校對頁數</option>
						{% else %}
							<option value="{{ scanPage }}">{{ scanPage }}</option>
						{% endifequal %}
					{% endfor %}
				</select>
				<input type="button" id="nextPage" name="nextPage" value="下一頁" onclick="changePage(1)">


				<div class="scrollbarDiv">
				   <img src="{% static defaultPageURL %}" alt="文件掃描原檔" id="scanPage" name="scanPage" width="100%" >
				</div>

			</div>
			
			<div id="textPage"class="col-md-6">
				{{ editForm.content.errors }}
				{{ editForm.page.label_tag }}{{ editForm.page }}
				<br />
				<textarea id="id_content" name="content" rows="40">{{ editForm.content.value }}</textarea>
				{{ editForm.page.errors }}
			</div>
		</form>
	

</div>
{% endblock %}